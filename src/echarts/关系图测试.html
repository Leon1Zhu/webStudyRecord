<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
  <script src="https://cdn.bootcss.com/echarts/4.1.0.rc2/echarts-en.js"></script>
    <title>关系图测试</title>
</head>
<body>
<!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
<div id="main" style="width: 1500px;height:500px;"></div>
</body>
<script src="./data.js"></script>
<script type="text/javascript">
  // 基于准备好的dom，初始化echarts实例
  var myChart = echarts.init(document.getElementById('main'));
  const categories = [
    {name: '总模块'},
    {name: 'SkyBase'},
    {name: 'SkyFS'},
    {name: 'SkyCloundOS'},
    {name: 'SkyIntelligent'},
    ]
  option = {
    title: {
      text: '模块关系图',
      subtext: 'Default layout',
      top: 'bottom',
      left: 'right'
    },
    tooltip: {},
    legend: [{
      // selectedMode: 'single',
      data: categories.map(function (a) {
        return a.name;
      })
    }],
    animationDuration: 1500,
    animationEasingUpdate: 'quinticInOut',
    series : [
      {
        name: '模块关系图',
        type: 'graph',
        layout: 'none',
        data: data.nodes,
        links: data.links,
        categories: categories,
        roam: true,
        focusNodeAdjacency: true,
        itemStyle: {
          normal: {
            borderColor: '#fff',
            borderWidth: 1,
            shadowBlur: 10,
            shadowColor: 'rgba(0, 0, 0, 0.3)'
          }
        },
        smooth: true,
        line: {
          smooth: true
        },
        label: {
          position: 'top',
          formatter: '{b}',
          show: true,
        },
        lineStyle: {
          color: 'source',
          curveness: 0.3,
          type: 'dotted',
        },
        emphasis: {
          lineStyle: {
            width: 10
          }
        }
      }
    ]
  };
  myChart.setOption(option);

</script>
</html>
